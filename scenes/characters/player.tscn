[gd_scene load_steps=16 format=3 uid="uid://c6r651w7f6xt6"]

[ext_resource type="Script" uid="uid://d17ko46w5y5lj" path="res://scripts/player/player.gd" id="1_onrkg"]
[ext_resource type="Texture2D" uid="uid://dkd41snblkws4" path="res://assets/sprites/characters/sunnyside_world_chatacter_anim_v0.07.png" id="2_eojnx"]
[ext_resource type="Script" uid="uid://b6cbft033jpv2" path="res://scripts/player/player_state_machine.gd" id="3_i3pqv"]
[ext_resource type="Script" uid="uid://by86vj4fx4pit" path="res://scripts/systems/state_idle.gd" id="4_dyp2m"]
[ext_resource type="Script" uid="uid://dtkeq1an4o542" path="res://scripts/systems/state_walk.gd" id="5_atpat"]
[ext_resource type="Script" uid="uid://bcr6w7myhcyp8" path="res://scripts/systems/state_attack.gd" id="6_kqtwu"]
[ext_resource type="AudioStream" uid="uid://ncx5p6bb27cw" path="res://assets/sounds/SwordSwoosh.wav" id="8_eojnx"]
[ext_resource type="Script" uid="uid://pd0devidkj5k" path="res://scripts/player/player_interactions.gd" id="10_2l4js"]

[sub_resource type="CircleShape2D" id="CircleShape2D_d17em"]

[sub_resource type="Animation" id="Animation_i3pqv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_7vyk4"]
resource_name = "attack"
length = 0.8
step = 0.08
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0769231, 0.153846, 0.230769, 0.307692, 0.384615, 0.461538, 0.538462, 0.615385, 0.692308),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [124, 125, 126, 127, 128, 129, 130, 131, 132, 133]
}

[sub_resource type="Animation" id="Animation_onrkg"]
resource_name = "idle"
length = 0.6
loop_mode = 1
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.142857, 0.285714, 0.428571),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [16, 17, 18, 19]
}

[sub_resource type="Animation" id="Animation_eojnx"]
resource_name = "run"
length = 0.6
loop_mode = 1
step = 0.075
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0769231, 0.153846, 0.230769, 0.307692, 0.384615, 0.461538, 0.538462),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="Animation" id="Animation_qgnko"]
resource_name = "water"
length = 0.6
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [22, 23, 24, 25, 26, 27]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1jxqw"]
_data = {
&"RESET": SubResource("Animation_i3pqv"),
&"attack": SubResource("Animation_7vyk4"),
&"idle": SubResource("Animation_onrkg"),
&"run": SubResource("Animation_eojnx"),
&"water": SubResource("Animation_qgnko")
}

[node name="Player" type="CharacterBody2D"]
motion_mode = 1
wall_min_slide_angle = 0.174533
script = ExtResource("1_onrkg")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_d17em")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(-3, 12)
texture = ExtResource("2_eojnx")
hframes = 14
vframes = 14

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_1jxqw")
}

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_i3pqv")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("4_dyp2m")

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource("5_atpat")

[node name="Attack" type="Node" parent="StateMachine"]
script = ExtResource("6_kqtwu")
attack_sound = ExtResource("8_eojnx")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2, 2)
position_smoothing_enabled = true
position_smoothing_speed = 3.0

[node name="Audio" type="Node" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Audio"]
max_polyphony = 4

[node name="Interactions" type="Node2D" parent="."]
script = ExtResource("10_2l4js")
